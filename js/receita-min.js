function atualizarDados(){document.location.reload(!0)}function onSelectCompetenciaReceita(){document.location.href="admin-controle-receita?comp="+document.getElementById("selCompetencia").value}function atualizarReceita(n,t,i,r){let f=document.getElementById("contribui_"+n).checked,u=$("#data_pagto_"+n).val();if(f){if(document.getElementById("linha_"+n).style.backgroundColor="#daebc3",document.getElementById("data_pagto_"+n).style.display="block",document.getElementById("valor_pagto_"+n).style.display="block",u==""||u==undefined){hoje=new Date;let t=hoje.getMonth()+1,i=hoje.getDate();t.toString().length==1&&(t="0"+t);i.toString().length==1&&(i="0"+i);u=hoje.getFullYear()+"-"+t+"-"+i;$("#data_pagto_"+n).val(u)}($("#valor_pagto_"+n).val()==""||$("#valor_pagto_"+n).val()==null||$("#valor_pagto_"+n).val()==undefined)&&$("#valor_pagto_"+n).val(t);r?inserirPagamento(n,"01/"+$("#selCompetencia").val(),$("#data_pagto_"+n).val(),$("#valor_pagto_"+n).val()):atualizarPagamento(n,"01/"+$("#selCompetencia").val(),$("#data_pagto_"+n).val(),$("#valor_pagto_"+n).val());atualizarDados()}else document.getElementById("linha_"+n).style.backgroundColor=i,document.getElementById("data_pagto_"+n).style.display="none",document.getElementById("valor_pagto_"+n).style.display="none",excluirPagamento(n,"01/"+$("#selCompetencia").val()),atualizarDados()}function inserirPagamento(n,t,i,r){r=r.replace(".","");r=r.replace(",",".");$.ajax({url:"ajax-receita.php",type:"get",dataType:"json",data:{acao:"i",id:n,competencia:t,dataPagto:i,valorPagto:r}}).done(function(){}).fail(function(){})}function atualizarPagamento(n,t,i,r){r=r.replace(".","");r=r.replace(",",".");$.ajax({url:"ajax-receita.php",type:"get",dataType:"json",data:{acao:"a",id:n,competencia:t,dataPagto:i,valorPagto:r}}).done(function(){}).fail(function(){})}function excluirPagamento(n,t){$.ajax({url:"ajax-receita.php",type:"get",dataType:"json",data:{acao:"e",id:n,competencia:t}}).done(function(){}).fail(function(){})}function carregarModalReceitaExtra(){$("#dataReceitaExtra").val((new Date).toISOString().substring(0,10))}function limparDadosModalReceitaExtra(){$("#descricaoReceitaExtra").val("");$("#dataReceitaExtra").val("");$("#valorReceitaExtra").val("")}function inserirReceitaExtra(){let t=$("#descricaoReceitaExtra").val(),i=$("#dataReceitaExtra").val(),n=$("#valorReceitaExtra").val();if(t==""||t==null||t==undefined){displayMessage("Descrição da Receita Extra é obrigatória","Descrição da receita","error",3);return}if(i==""||i==null||i==undefined){displayMessage("Data da Receita Extra é obrigatória","Data da receita","error",3);return}if(n==""||n==null||n==undefined){displayMessage("Valor da Receita Extra é obrigatória","Valor da receita","error",3);return}$("#btn-salvar-receitaextra").prop("disabled",!0);$("#btn-salvar-receitaextra").html("Salvando...");$("#btn-fechar-receitaextra").prop("disabled",!0);let r="01/"+$("#selCompetencia").val();n=n.replace(".","");n=n.replace(",",".");$.ajax({url:"ajax-receita.php",type:"get",dataType:"json",data:{acao:"ex",competencia:r,descricao:t,data:i,valor:n}}).done(function(){document.location.reload(!0)}).fail(function(){document.location.reload(!0)})}